import Decimal from "decimal.js";
import * as proto from "./gen/nord_pb";
import { paths } from "./gen/openapi";
import { Client } from "openapi-fetch";
import { FillMode, Side, QuoteSize } from "./types";
import { BigIntValue } from "./utils";
import { PublicKey, Transaction } from "@solana/web3.js";
type ReceiptKind = NonNullable<proto.Receipt["kind"]>;
type ExtractReceiptKind<K extends ReceiptKind["case"]> = Extract<ReceiptKind, {
    case: K;
}>;
export declare function formatReceiptError(receipt: proto.Receipt): string;
export declare function expectReceiptKind<K extends ReceiptKind["case"]>(receipt: proto.Receipt, expected: K, action: string): asserts receipt is proto.Receipt & {
    kind: ExtractReceiptKind<K>;
};
export declare function createAction(currentTimestamp: bigint, nonce: number, kind: proto.Action["kind"]): proto.Action;
export declare function sendAction(client: Client<paths>, makeSignedMessage: (message: Uint8Array) => Promise<Uint8Array>, action: proto.Action): Promise<proto.Receipt>;
export declare function prepareAction(action: proto.Action, makeSignedMessage: (message: Uint8Array) => Promise<Uint8Array>): Promise<Uint8Array<ArrayBufferLike>>;
export declare function createSession(client: Client<paths>, signMessage: (_: Uint8Array) => Promise<Uint8Array>, currentTimestamp: bigint, nonce: number, params: {
    userPubkey: PublicKey;
    sessionPubkey: PublicKey;
    signatureFraming: "hex" | "solanaTransaction";
    expiryTimestamp?: bigint;
    signTransactionFn: (tx: Transaction) => Promise<Transaction>;
}): Promise<{
    actionId: bigint;
    sessionId: bigint;
}>;
export declare function revokeSession(client: Client<paths>, signMessage: (_: Uint8Array) => Promise<Uint8Array>, currentTimestamp: bigint, nonce: number, params: {
    sessionId: BigIntValue;
}): Promise<{
    actionId: bigint;
}>;
export type AtomicSubaction = {
    kind: "place";
    marketId: number;
    side: Side;
    fillMode: FillMode;
    isReduceOnly: boolean;
    sizeDecimals: number;
    priceDecimals: number;
    size?: Decimal.Value;
    price?: Decimal.Value;
    quoteSize?: QuoteSize;
    clientOrderId?: BigIntValue;
} | {
    kind: "cancel";
    orderId: BigIntValue;
};
export declare function atomic(client: Client<paths>, signFn: (message: Uint8Array) => Promise<Uint8Array>, currentTimestamp: bigint, nonce: number, params: {
    sessionId: BigIntValue;
    accountId?: number;
    actions: AtomicSubaction[];
}): Promise<{
    actionId: bigint;
    results: proto.Receipt_AtomicSubactionResultKind[];
}>;
export {};
